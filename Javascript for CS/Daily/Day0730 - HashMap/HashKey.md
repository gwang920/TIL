# 효율적인 hash 키 생성

```javascript
hash키를 효율적으로 생성하는 방법을 알기 위해서는
hash키가 가진 문제점을 파악해야한다.

hash 함수의 문제점
1. 인식 가능성

메시지가 같으면 다이제스트가 같다. 그렇기에 다른 사용자와 패스워드가 같으면 다이제스트도 같아서 
한번에 해킹당할 위험이 있다.

* 다이제스트
해시 함수라는 수학적인 연산을 통해 생성된 암호화된 메시지를 의미


2. 속도

hash함수의 처리 속도가 빠르기에 무차별 대입 공격(Brute force attack)을 당할 수 있다.

* 브루트포스
가능한 모든 경우의 수를 넣고 답을 찾는 방식


효율적인 Hash 키 생성

1. 보조 해시 함수
보조 해시 함수의 목적은 '키'의 값을 변형하여 해시 충돌가능성을 줄이는 것.

index = X.hashCode() % M을 계산할 때 사용하는 M 값은 소수일 때 index 값 분포가 가장 균등할 수 있다. 
그러나 M 값이 소수가 아니기 때문에 별도의 보조 해시 함수를 이용하여 index 값 분포가 가급적 균등할 수 있도록 해야 한다.

보조해시함수는 XOR연산으로 구한다.

2. string 객체에 대한 해시 함수

String 객체에 대한 해시 함수 수행 시간은 "문자열 길이"에 비례한다.

String 객체 해시 함수에서 31을 사용하는 이유는, 31이 소수이며 또한 어떤 수에 31을 곱하는 것은 빠르게 계산할 수 있기 때문이다. 
31N=32N-N인데, 32는 2^5이니 어떤 수에 대한 32를 곱한 값은 shift 연산으로 쉽게 구현할 수 있다. 
따라서 N에 31을 곱한 값은, (N << 5) – N과 같다. 31을 곱하는 연산은 이렇게 최적화된 머신 코드로 생성할 수 있기 때문에, String 클래스에서 해시 값을 계산할 때에는 31을 승수로 사용한다.
```









* 참고

https://gbsb.tistory.com/110

https://d2.naver.com/helloworld/831311
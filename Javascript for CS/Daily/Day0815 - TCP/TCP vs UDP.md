# TCP(Transmission Control Protocol)란?

```
- 서버와 클라이언트간에 데이터를 신뢰성 있게 
전달하기 위해 만들어진 프로토콜
-----------------------------------------------------------------------------------------
* 프로토콜 ?
데이터 통신을 원활하게 하기 위해 필요한 통신 규약
메시지를 주고 받는 양식과 규칙 체계
ex) 데이터 구조는 이런식으로하고, 속도는 이정도로 맞추고 등등을 정의한 것

HTTP는 인터넷상에서 데이터를 주고 받기 위한 서버/클라이언트 모델을 따르는 프로토콜이다.
HTTP는 어떤 종류의 데이터든지 전송할 수 있도록 설계 돼있다.
HTML문서,동영상,오디오,텍스트문서 등 여러 종류가 있다.
즉, Hypertext 기반으로 데이터를 전송하겠다
= 링크기반으로 데이터에 접속하겠다는 의미이다.
-----------------------------------------------------------------------------------------

- 데이터를 전송하기 전에 데이터 전송을 위한 연결을 만드는 연결지향 프로토콜이다.
- 데이터는 네크워크선로를 통해 전달되는 과정에서 손실되거나 순서가 뒤바뀌어서 전달될 수 있는데, TCP는 손실을 검색해내서 이를 교정하고 순서를 재조합할 수 있도록 해준다.
- 신뢰성이 없는 인터넷을 통해 종단간에 신뢰성 있는 "바이트 스트림을 전송"하도록 특별히 설계되어 있다.
- TCP 서비스는 송신자와 수신자 모두가 소켓이라고 부르는 종단점을 생성함으로써 이루어진다.
- TCP에서 연결설정은 3 way-handshake를 통해 행해진다.

모든 TCP 연결은 전이중(full-duplex),점대점(point to point)방식이다.
전이중이란 전송이 양방향으로 동시에 일어날 수 있음을 의미하고,
점대점이란 각 연결이 정확히 2개의 종단점을 가지고 있음을 의미한다.
TCP는 브로드캐스팅, 멀티캐스팅이 불가하다.

* 브로드캐스팅 VS 멀티캐스팅
브로드캐스팅 - 불특정 다수를 대상으로 데이터를 전송하는 것
멀티캐스팅 - 수신 대상이 정해져있음

즉, 둘 다 동시에 많은 사람에게 똑같은 데이터를 전송하지만, 그 대상이 정해져있냐 아니냐라는 차이점을 갖는다.
```

# TCP 3-way Handshake

```
TCP는 장치들 사이에 논리적인 접속을 성립하도록 하기 위해 Three way Handshake를 사용한다.

1. Client에서 Server에 연결 요청을 하기위해 SYN 데이터를 보낸다.


2. Server에서 해당 포트는 LISTEN 상태에서 SYN 데이터를 받고 SYN_RCV로 상태가 변경된다.

  그리고 요청을 정상적으로 받았다는 대답(ACK)와 Client도 포트를 열어달라는 SYN 을 같이 보낸다.


3. Client에서는 SYN+ACK 를 받고 ESTABLISHED로 상태를 변경하고 서버에 요청을 잘 받았다는 ACK 를 전송한다.

 ACK를 받은 서버는 상태가 ESTABLSHED로 변경된다.



출처: https://hyeonstorage.tistory.com/286 [개발이 하고 싶어요]
```

# TCP/IP

```
- 패킷통신을 위한 인터넷 통신규약
- 오늘날 인터넷 통신의 대부분은 패킷통신으로 이루어진다.
- TCP/IP는 이러한 패킷통신을 위한 통신 규약이라고 할 수 있다.

 * TCP/IP란?
 
 IP(Internet Protocol)는 데이터 조각들을 최대한 빠르게 목적지로 보내는 역할을 한다.
 이때, 데이터의 순서가 뒤바뀌거나 누락되더라도 상관하지 않고 일단 보낸다.
 
 TCP(Transmission Control protocl)는 IP보다는 느리지만 꼼꼼한 방식을 사용한다.
 도착한 조각을 점검하여 줄을세우고 망가졌거나 빠진 조각을 다시 요청한다.
 
 이 두 방식을 적절히 조합하여 인터넷 데이터를 통신하는 방법을 TCP/IP라고 한다.
 
 * 그렇다면 왜 TCP/IP 인가?
 
 패킷통신이전에는 서킷통신이라는 것이 존재했다.
 서킷통신은 하나의 노드에 여러 회선이 연결되는 구조인데, 만일 어느 한쪽에서 연결이 되었다면
 다른 회선에서는 이 연결이 끊어지기 까지 기다려야한다.
 
(1)          (2)
	\ 	   /
 	  node
 	/	   \
(3)          (4)

(1) - (4)가 통신한다면 나머지 (2),(3) 회선은 연결이 끊기기까지 기다려야한다.


이러한 서킷 통신 방식은 회선 단절에 취약하다. 회선이 끊어지면 다시 연결해야하고, 사용자가 있을 때 대기해야한다.

이 서킷 방식을 보완하고자
망을 여러개 만드는 방식이 
```



# UDP(User Datagram Protocol, 사용자 데이터그램 프로토콜)

```
UDP는 비연결형 프로토콜이다.
IP(Internet Protocol)데이터그램을 캡슐화하여 보내는 방법과 연결 설정을 하지 않고 보내는 방법을 제공한다.

* 데이터그램?
인터넷을 통해 전달되는 정보의 기본 단위를 뜻함

* 캡슐화
송신 데이터에 필요한 정보(헤더)를 붙여서 다음 계층에 보내는 기술

상위 층 -> 통신 프로토콜 정보 추가 -> 하위 층
헤더 : OSI 각 계층에서 수행한 정보들이 담겨있다.(데이터를 받을 상대에 대한 정보들도 포함되어 있다.)
이 헤더는 데이터의 내용이나 성격을 식별하거나 제어하는데 사용된다.
```

# TCP vs UDP

```
TCP 양방향 통신

=> 송신자 수신자가 서로 소통한다.

UDP 일방적인 통신

=> 송신자는 데이터를 전송하기만하고 수신자는 받기만한다.

그렇기에 신뢰성이 요구되는 애플리케이션에서는 TCP를
간단한 데이터를 빠른 속도로 전송하고자하는 애플리케이션에서는 UDP를 사용한다.
```







# 서브넷 마스크(subnet Mask)

```
- IPv4주소의 고갈 현실화를 해결하기 위해 호스트의 IP대역을 외부 네트워크와 명확하게 구분할 수 있는 수단

=> 클래스단위 할당의 비효율성
클래스 A(65000개의 IP)를 기업체에 할당했을 때 아이피를 다쓰지않고
20000개 정도 쓴다고 가정하면 45000개의 IP는 쓰이지 않은채로 낭비된다.
이는 곧 IP자원의 고갈을 의미한다.
이를 해결하기 위해 부분망인 서브넷을 사용한다.

- 서브넷은 말그대로 부분망이라는 뜻
- 서브넷마스크의 목적은 IP주소와 AND연산을 통해 Network 부분의 정보를 걸러내는 것
```



```
IP주소는 IP클래스에 의해 분리되는 Network Prefix와 나머지 Host Number로 분리된다.
서브넷 마스크에 의해 이루어지는 서브넷팅은 이 Host Number를 Subnet Number와 서브넷안에서 식별되는 Host Number로 다시 분리한다.
```

![image](https://user-images.githubusercontent.com/49560745/90354373-22a89580-e084-11ea-8396-49252797b9fa.png)

- 출처 : http://korean-daeddo.blogspot.com/2016/01/blog-post_26.html



# IP주소

```
- 크기 : 32bit(2^32 대략 4억개)
- A,B,C,D,E 클래스

1. 유니케스트 주소

A class(0 ~ 127) : 맨 앞에 비트가 '0'인 공통 비트 클래스

0.0.0.0 ~ 127.255.255.255  기본 서브넷 마스크 : 255.0.0.0
0 0000000.   0 1111111.     네트워크 아이디당 IP 주소 개수 : 2^24개 (0.0.0  8 * 3)

B class(128 ~ 191) : 맨 앞에 비트가 '10'인 공통 비트 클래스

128.0.0.0 ~ 191.255.255.255 기본 서브넷 마스크 : 255.255.0.0
10 000000.    10 111111.     네트워크 아이디당 IP 주소 개수 : 2^16개(0.0  8*2)

C class(192 ~ 223) : 맨 앞에 비트가 '110'인 공통 비트 클래스

192.0.0.0 ~ 223.255.255.255  기본 서브넷 마스크 : 255.255.255.0
110 00000.   110 11111.      네트워크 아이디당 IP주소 개수 : 2^8개 (0  8*1)


EX) 121.160.54.223 - IP   255.255.255.0 - 서브넷마스크
위는 A클래스이다.
(기본 서브넷마스크는 말그대로 디폴트일 뿐 A클래스에서 C클래스의 기본 서브넷 마스크를 사용할 수 있다. 즉, 클래스를 구분하는 유일한 것은 맨 앞 비트이다.)


2. 멀티케스트 주소

D class (224~239) : 맨 앞에 비트가 '1110'인 공통 비트클래스

224.0.0.0 ~ 239.255.255.255   서브넷 마스크 x(없다)
1110 0000.   1110 1111.

3. IANA 예비용으로 예약한 주소

E Class (240 ~ 250)

240.0.0.0  ~ 255.255.255.255
```



```
설정이 불가능한 IP 주소

- D Class  							사용 O, 설정 X
- E Class   						사용 X, 설정 X
- 0.x.x.x   					    사용 X, 설정 X
- local loopback 					사용 O, 설정 X
- 네트워크 이름, 서브넷 브로드케스트 주소

네트워크 이름 & 서브넷 브로드케스트 주소

121.160.42.0 <- 네트워크 이름
121.160.42.255 <- 서브넷 브로드케스트 주소

IP                 마스크
121.160.42.11  ~   255.255.255.0



서브넷 마스크           Prefix Mask						설정 가능한 IP 주소 개수
			  (앞에서 부터 1의개수를 표시하는 것)  

255.255.255.255      /32
255.255.255.0        /24   (네트워크 아이디가 24bit host8bit)  2^8 - 2(네트워크 이름, 서브넷 브로드케스트 주소 => 설정 불가능)
255.255.0.0          /16								  2^16-2
255.0.0.0            /8                                   2^24-2
0.0.0.0              /0



11111111 = 255
11111110 = 254
11111100 = 252
11111000 = 248
11110000 = 240
11100000 = 224
11000000 = 192
10000000 = 128
00000000 = 0


```





```
클래스에 할당된 ip를 더 세분화해서 사용하기 위해 서브넷 마스크를 이용해 분리한다.

2를 서브넷 비트 개수만 큼 제곱한만큼 ip 주소가 분리된다.

B클래스에서 사용할 서브넷 비트가 5라면
기본 서브넷 마스크 255.255.0.0 에서 255.255.248.0 로 서브넷 마스크가 확장(?)된다.
(11111000 만큼 2^5=32  =>  11111111 11111111 11111000 00000000)

이때 B클래스의 서브넷 비트인 5만큼인 2^5=32가 서브넷 개수가 되고
서브넷당 호스트의 개수는 0의 개수를 2의 제곱한 값인 2^11=2048개 - 2개인 2046 개가 된다.

(-2를 해주는 이유는 네트워크 주소와 서브넷 브로드캐스트 주소는 호스트로 할당가능한 ip가 아니기 때문이다.)

* IP 주소의 첫째 부분은 네트워크 주소로 사용되고, 마지막 부분은 호스트 주소로 사용됨

 네트워크 주소는 작은 네트워크를 식별하는데 사용된다. 즉, 그 네트워크 자체를 대표하는 놈이다.
 브로드캐스트 주소는 이름에서 알 수 있듯이 여기로 데이터를 전송하면 모든 컴퓨터로 송신된다.
 
 따라서, 두 아이피는 사용할 수 없다.

ex) 192.168.123.132

	192.168.12.0 - network address
    0.0.0.132 - host address




```

